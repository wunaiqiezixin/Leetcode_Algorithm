# P1010:æ»‘é›ª
[é¢˜ç›®é“¾æ¥](http://cxsjsxmooc.openjudge.cn/dspythonbookqh2/P1010/)

---
## ğŸš€è®°å¿†åŒ–æœç´¢
- çŠ¶æ€
ç¬¬iè¡Œç¬¬jåˆ—çš„ç‚¹  
ç”¨ä¸€ä¸ªHæ•°ç»„æ¥å­˜æ”¾è¯»å…¥çš„æ•°æ®  
ç”¨ä¸€ä¸ªresultæ•°ç»„æ¥è¡¨ç¤ºå­é—®é¢˜çš„è§£
```C
#define MAX 1000
int H[MAX][MAX];
int result[MAX][MAX];//è®°å½•æœç´¢ç»“æœ
int R, C;//ä»0å¼€å§‹è®¡æ•°,å…±Rè¡ŒCåˆ—
```
1. å­é—®é¢˜  
**åˆ°è¾¾ç‚¹(x, y)çš„æœ€å¤§è·ç¦»**
2. çŠ¶æ€è½¬ç§»æ–¹ç¨‹  
- æ±‚è§£```result[x][y]```,å°±è¦æœç´¢(x,y)çš„å››å‘¨ï¼Œæˆ‘ä»¬å®šä¹‰ä¸¤ä¸ªæ–¹å‘æ•°ç»„ï¼Œæ–¹ä¾¿æœç´¢å››å‘¨  
```C
int dx[] = { 0, 0, 1, -1 };//xæ–¹å‘çš„åç§»é‡
int dy[] = { 1, -1, 0, 0 };//yæ–¹å‘çš„åç§»é‡
```
     
- æœç´¢å››å‘¨ï¼Œæ³¨æ„æ•°ç»„ä¸èƒ½è¶Šç•Œï¼ŒçŠ¶æ€è½¬ç§»  
```C
for (int k = 0; k < 4; k++)
{
	int nx = x + dx[k];
	int ny = y + dy[k];
	//é¿å…æ•°ç»„è¶Šç•Œ
	if (nx <= C && nx >= 0 && ny <= R && ny >= 0
		&& H[x][y] < H[nx][ny])
	{
		//åŠ¨æ€è§„åˆ’æ–¹ç¨‹
		result[x][y] = max(result[x][y], 1 + search(nx, ny));
	}
}
```
### å®Œæ•´ä»£ç 
### ***C:***
```C
#define _CRT_SECURE_NO_WARNINGS
#include<stdio.h>
#define max(a,b) ((a) > (b) ? (a) : (b))
#define MAX 1000
int H[MAX][MAX];
int result[MAX][MAX];//è®°å½•æœç´¢ç»“æœ
int R, C;//ä»0å¼€å§‹è®¡æ•°
//è®°å¿†åŒ–æœç´¢
int search(int x, int y) //åˆ°è¾¾ç‚¹(x,y)çš„æœ€é•¿è·ç¦»
{
	if (result[x][y] > 1)//å¦‚æœå·²ç»è®¡ç®—è¿‡
		return result[x][y];
	//æ–¹å‘æ•°ç»„
	int dx[] = { 0, 0, 1, -1 };
	int dy[] = { 1, -1, 0, 0 };
	for (int k = 0; k < 4; k++)
	{
		int nx = x + dx[k];
		int ny = y + dy[k];
		//é¿å…æ•°ç»„è¶Šç•Œ
		if (nx <= C && nx >= 0 && ny <= R && ny >= 0
			&& H[x][y] < H[nx][ny])
		{
			//åŠ¨æ€è§„åˆ’æ–¹ç¨‹
			result[x][y] = max(result[x][y], 1 + search(nx, ny));
		}
	}
	return result[x][y];
}
int main(void)
{
	//è¯»å…¥æ•°æ®ï¼Œåˆå§‹åŒ–ç»“æœæ•°ç»„ä¸º1
	scanf("%d %d", &R, &C);
	int i, j;
	for (i = 0; i < R; i++)
	{
		for (j = 0; j < C; j++)
		{
			scanf("%d", &H[i][j]);
			result[i][j] = 1;
		}
	}
	//è®°å¿†åŒ–æœç´¢ï¼Œå¹¶è®°å½•æœ€å¤§è·ç¦»
	int maxD = 1;
	for (i = 0; i < R; i++)
	{
		for (j = 0; j < C; j++)
		{
			maxD = maxD < search(i, j) ? search(i, j) : maxD;
		}
	}
	printf("%d", maxD);
}
```
