# 27.移除元素
[力扣题目链接](https://leetcode.cn/problems/remove-element/)
* 给你一个数组 nums 和一个值 val，你需要 原地 移除所有数值等于 val 的元素。元素的顺序可能发生改变。然后返回 nums 中与 val 不同的元素的数量。

* 假设 nums 中不等于 val 的元素数量为 k，要通过此题，您需要执行以下操作：

* 更改 nums 数组，使 nums 的前 k 个元素包含不等于 val 的元素。nums 的其余元素和 nums 的大小并不重要。
* 返回 k。

## 数组理论：
* 数组中的内存是连续的，不能说直接把中间某个元素扣掉，那部分内存依旧存在。
* 删除下标为i的元素要把后i+1位元素都往前移动一位。
## 思路：
* **两重循环**：
  *外重循环寻找要删除的值，每找到一个目标值，内重循环将其后面的元素全部往前移动一位，每次移动后，在进入下一外重循环前将外指针-1，进入外重循环后自动+1。*
  
* **快慢指针**：
  *慢指针slow记录要保留的元素的下标，快指针记录要保留的元素;快指针从头到尾遍历数组，当快指针所指向的值为要保留元素时，slow位置存放该值。*
  
* **左右指针**：
  *使左指针left指向的值为要删除的值，右指针right指向要保留的值，使left位置的值被right位置的值覆盖。缺点:顺序会被打乱。*

## 两重循环代码
### **C：**
```C
int removeElement(int* nums, int numsSize, int val) {
    int i;
    for (i = 0;i < numsSize;i++)
    {
        if (nums[i] == val)
        {
            int j;
            for (j = i;j < numsSize - 1;j++)
            {
                nums[j] = nums[j+1];
            }
            numsSize--;
            i--; //在进入下一外重循环前-1，防止遗漏
        }
    }
    return numsSize;
}
```
### **Python:**
```Python
class Solution:
    def removeElement(self, nums: List[int], val: int) -> int:
        n = len(nums)
        i = 0
        while i < n:
            if nums[i] == val:
                for j in range(i,n - 1):
                    nums[j] = nums[j+1]
                i -= 1  #使用while循环，不用for循环的原因
                n -= 1
            i += 1
        return n
            
```
  
## 快慢指针代码
### **C:**
```C
int removeElement(int* nums, int numsSize, int val) {
    int fast = 0,slow = 0;
    for (;fast < numsSize;fast++)
    {
        if (nums[fast] != val)
        {
            nums[slow++] = nums[fast];
        }
    }
    return slow;
}
```
### **Python**
```Python
class Solution:
    def removeElement(self, nums: List[int], val: int) -> int:
        slow =  fast = 0
        for fast in range(0,len(nums)):
            if nums[fast] != val:
                nums[slow] = nums[fast]
                slow += 1
        return slow
```

## 相向双指针代码：
### **C:**
```C
int removeElement(int* nums, int numsSize, int val) {
    if (numsSize == 0 || nums == NULL)
    {
        return 0;
    }
    int left = 0,right = numsSize - 1;
    while (left < right)  // 注意用 < 而不是 <=
    {
        while (left < right && nums[left] != val)
        {
            left++;
        }
        while (left < right && nums[right] == val)
        {
            right--;
        }
        int tmp = nums[left];
        nums[left] = nums[right];
        nums[right] = tmp;
    }
    return nums[left] == val ? left : ++left;

}
```
### **Python:**
```Python
class Solution:
    def removeElement(self, nums: List[int], val: int) -> int:
        n = len(nums)
        left, right  = 0, n - 1
        while left <= right:  #' <= ', n 可以取 1
            while left <= right and nums[left] != val:
                left += 1
            while left <= right and nums[right] == val:
                right -= 1
            if left < right:  #排除 n 为 1 的情况
                nums[left] = nums[right]
                left += 1
                right -= 1
        return left               
```

## 相关题目

* [26.删除排序数组中的重复项](https://leetcode.cn/problems/remove-duplicates-from-sorted-array/)
* [283.移动零](https://leetcode.cn/problems/move-zeroes/)
* [844.比较含退格的字符串](https://leetcode.cn/problems/backspace-string-compare/)
* [977.有序数组的平方](https://leetcode.cn/problems/squares-of-a-sorted-array/)

