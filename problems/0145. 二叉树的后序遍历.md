# 145. äºŒå‰æ ‘çš„ååºéå†
[åŠ›æ‰£é¢˜ç›®é“¾æ¥](https://leetcode.cn/problems/binary-tree-postorder-traversal/description/)
---
## ğŸ“‘é€’å½’ååºéå†äºŒå‰æ ‘
å…ˆéå†å·¦å­æ ‘ï¼Œå†éå†å³å­æ ‘ï¼Œæœ€åéå†æ ¹èŠ‚ç‚¹  
é€’å½’è§£å†³
### ***C:***
```C
/**
 * Definition for a binary tree node.
 * struct TreeNode {
 *     int val;
 *     struct TreeNode *left;
 *     struct TreeNode *right;
 * };
 */
/**
 * Note: The returned array must be malloced, assume caller calls free().
 */
//å…ˆéå†å·¦å­æ ‘ï¼Œå†éå†å³å­æ ‘ï¼Œæœ€åéå†æ ¹èŠ‚ç‚¹
//é€’å½’éå†ï¼š
void postOrder(struct TreeNode* root, int* ret, int* retSize)
{
    //é€’å½’çš„è¾¹ç•Œ
    if (root == NULL)
        return;
    //éå†å·¦å­æ ‘
    postOrder(root->left, ret, retSize);
    //éå†å³å­æ ‘
    postOrder(root->right, ret, retSize);
    //éå†æ ¹èŠ‚ç‚¹
    ret[(*retSize)++] = root->val;
}
int* postorderTraversal(struct TreeNode* root, int* returnSize) {
    *returnSize = 0;
    int* ret = (int*)malloc(sizeof(int) * 100);
    postOrder(root, ret, returnSize);
    return ret;
}
```
## ğŸ“è¿­ä»£æ³•ååºéå†äºŒå‰æ ‘
è¿­ä»£æ³•ååº(å·¦å³ä¸­)éå†äºŒå‰æ ‘ï¼ŒåŸºäºå‰åºéå†(ä¸­å·¦å³)  
æˆ‘ä»¬åªéœ€äº¤æ¢[å‰åºè¿­ä»£æ³•éå†äºŒå‰æ ‘])çš„ä¸¤è¡Œä»£ç ï¼Œå°±å¯ä»¥å¾—åˆ°(ä¸­å³å·¦)  
åœ¨(ä¸­å³å·¦)çš„åŸºç¡€ä¸Šï¼Œæˆ‘ä»¬åœ¨åè½¬æ•°ç»„å…ƒç´ ï¼Œå°±å¾—åˆ°äº†(å·¦å³ä¸­)
```C
/**
 * Definition for a binary tree node.
 * struct TreeNode {
 *     int val;
 *     struct TreeNode *left;
 *     struct TreeNode *right;
 * };
 */
/**
 * Note: The returned array must be malloced, assume caller calls free().
 */
//è¿­ä»£æ³•ï¼š
//ååºéå†æ˜¯ï¼šå·¦-å³-ä¸­
//å‰åºéå†æ˜¯ï¼šä¸­-å·¦-å³
/*
æ€è·¯ï¼š
1. åœ¨å‰åºéå†ä»£ç çš„åŸºç¡€ä¸Šè°ƒæ•´ä¸€ä¸‹ä»£ç é¡ºåº
2. å³ï¼š
    å‰åºéå†(ä¸­-å·¦-å³)--->è°ƒæ•´ä»£ç (ä¸­-å³-å·¦)--->åè½¬æ•°ç»„(å·¦-å³-ä¸­)
*/
//reverse()ç”¨äºåè½¬æ•°ç»„ï¼š(ä¸­-å·¦-å³)--->(å·¦-å³-ä¸­)
void reverse(int* ar, int left, int right)
{
    while (left < right)
    {
        int tmp = ar[left];
        ar[left++] = ar[right];
        ar[right--] = tmp;
    }
}
int* postorderTraversal(struct TreeNode* root, int* returnSize) {
    //å®šä¹‰ä¸€ä¸ªæ•°ç»„(æ ˆ)ï¼Œæ¥å­˜æ ‘çš„èŠ‚ç‚¹
    struct TreeNode** stack = (struct TreeNode**)malloc(sizeof(struct TreeNode*) * 100);
    int stackTop = 0;//æ ˆé¡¶
    //å®šä¹‰ä¸€ä¸ªæ•°ç»„ï¼Œç”¨äºå­˜éå†åˆ°çš„å€¼
    int* ret = (int*)malloc(sizeof(int) * 100);
    *returnSize = 0;
    /***ä¸‹é¢å‰åºéå†æ ‘(è°ƒæ•´ä»£ç é¡ºåº)***/
    //å¦‚æœä¸ºç©ºæ ‘ï¼Œè¿”å›ç©ºæ•°ç»„
    if (root == NULL) return ret;
    //æ ¹èŠ‚ç‚¹å…¥æ ˆ
    stack[stackTop++] = root;
    //å¾ªç¯è¿­ä»£ï¼Œç›´åˆ°æ ˆä¸ºç©º
    while (stackTop)
    {
        //å°†æ ¹èŠ‚ç‚¹å‡ºæ ˆï¼Œå¹¶å°†å…¶å€¼åŠ å…¥ret
        struct TreeNode* cur = stack[--stackTop];
        ret[(*returnSize)++] = cur->val;
        //åˆ¤æ–­æ ¹èŠ‚ç‚¹æœ‰æ— å·¦å­©å­(å…ˆ)
        if (cur->left)
            stack[stackTop++] = cur->left;
        //åˆ¤æ–­æ ¹èŠ‚ç‚¹æœ‰æ— å³å­©å­(å)
        if (cur->right)
            stack[stackTop++] = cur->right;
        //å¯¹æ ˆé¡¶å…ƒç´ é‡å¤ä¸Šé¢çš„æ“ä½œ
    }
    //åè½¬æ•°ç»„
    reverse(ret, 0, (*returnSize) - 1);
    return ret;
}
```
