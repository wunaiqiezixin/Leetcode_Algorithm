# 222. ÂÆåÂÖ®‰∫åÂèâÊ†ëÁöÑËäÇÁÇπ‰∏™Êï∞
[ÂäõÊâ£È¢òÁõÆÈìæÊé•](https://leetcode.cn/problems/count-complete-tree-nodes/description/)

---
## üìëÊôÆÈÄö‰∫åÂèâÊ†ëÁöÑËäÇÁÇπ‰∏™Êï∞
Êàë‰ª¨ÂÖàÂ∞ÜÂÖ∂Áúã‰Ωú‰∏ÄÈ¢óÊôÆÈÄöÁöÑ‰∫åÂèâÊ†ëÊù•ÂØπÂæÖ  
### ***C:***
```C
/**
 * Definition for a binary tree node.
 * struct TreeNode {
 *     int val;
 *     struct TreeNode *left;
 *     struct TreeNode *right;
 * };
 */
int countNodes(struct TreeNode* root) {
    if (root == NULL) return 0;
    int leftNum = countNodes(root->left);
    int rightNum = countNodes(root->right);
    return 1 + leftNum + rightNum;
}
```
## üöÄÂÆåÂÖ®‰∫åÂèâÊ†ëÁöÑËäÇÁÇπ‰∏™Êï∞
### üß†ÊÄùË∑Ø
Âà§Êñ≠ÊØè‰∏™Â≠êÊ†ëÊòØÂê¶ÊòØ‰∏ÄÈ¢óÂÆåÁæé‰∫åÂèâÊ†ë(Êª°‰∫åÂèâÊ†ë)  
Âç≥Âà§Êñ≠Â∑¶‰æßÊ∑±Â∫¶ÊòØÂê¶Á≠â‰∫éÂè≥‰æßÊ∑±Â∫¶  
Ëã•ÊòØ‰∏ÄÈ¢óÂÆåÁæé‰∫åÂèâÊ†ë(Êª°‰∫åÂèâÊ†ë)ÂàôÁõ¥Êé•Áî®ÂÖ¨Âºè $2^{n-1} - 1$  
### ***C:***
```C
/**
 * Definition for a binary tree node.
 * struct TreeNode {
 *     int val;
 *     struct TreeNode *left;
 *     struct TreeNode *right;
 * };
 */
int countNodes(struct TreeNode* root) {
    //ÁªàÊ≠¢Êù°‰ª∂
    if (root == NULL) return 0;
    /*ÊòØÂê¶‰∏∫Êª°‰∫åÂèâÊ†ë*/
    struct TreeNode* left = root->left;
    struct TreeNode* right = root->right;
    int leftDepth = 0, rightDepth = 0;
    while (left)
    {
        leftDepth++;
        left = left->left;
    }
    while (right)
    {
        rightDepth++;
        right = right->right;
    }
    if (leftDepth == rightDepth)
    {
        return (2<<leftDepth) - 1;
    }
    /*Â¶ÇÊûú‰∏çÊòØÊª°‰∫åÂèâÊ†ë*/
    int leftNum = countNodes(root->left);//Â∑¶
    int rightNum = countNodes(root->right);//Âè≥
    return leftNum + rightNum + 1;//‰∏≠
}
```
