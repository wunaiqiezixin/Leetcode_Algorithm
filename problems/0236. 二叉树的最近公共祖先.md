# 236. äºŒå‰æ ‘çš„æœ€è¿‘å…¬å…±ç¥–å…ˆ
[åŠ›æ‰£é¢˜ç›®é“¾æ¥](https://leetcode.cn/problems/lowest-common-ancestor-of-a-binary-tree/description/)

---
## ğŸ§ æ€è·¯
ä¸€å®šè¦ä¼šç”»å‡ºè¿‡ç¨‹   
ç†è§£é€’å½’æ˜¯æ€ä¹ˆä¸€å±‚ä¸€å±‚å¾€ä¸Šè¿”å›çš„(å›æº¯)    

æ€»å…±åˆ†ä¸ºä¸¤ç§æƒ…å†µï¼š   
1. p, q åˆ†åˆ«åœ¨ root çš„å·¦å³å­æ ‘
2. pæˆ–q å°±æ˜¯ root

### ğŸ€é€’å½’
1. å‡½æ•°çš„è¿”å›å€¼å’Œå‚æ•°   
```C
struct TreeNode* lowestCommonAncestor(struct TreeNode* root, struct TreeNode* p, struct TreeNode* q);
//è¿”å›æœ€è¿‘çš„å…¬å…±ç¥–å…ˆï¼Œå³è¿”å›ä¸€ä¸ªèŠ‚ç‚¹
//ä¼ å…¥æ ¹èŠ‚ç‚¹ï¼Œå’Œä¸¤ä¸ªå­™å­èŠ‚ç‚¹
```
2. ç»ˆæ­¢æ¡ä»¶   
å¦‚æœroot==p æˆ– root == q è¯´æ˜æœ€è¿‘ç¥–å…ˆå°±æ˜¯ root ï¼Œ å°†rootè¿”å›ä¸Šä¸€å±‚é€’å½’      
å¦‚æœroot == NULL ç©ºèŠ‚ç‚¹ï¼Œè¿”å›ä¸Šä¸€å±‚   
```C
//ç»ˆæ­¢æ¡ä»¶
if (root == NULL || root == p || root == q)
    return root;//è¿”å›ä¸Šä¸€å±‚
```
3. é€’å½’é€»è¾‘    
æœ¬é¢˜æ˜¯æœ‰è¿”å›å€¼çš„é€’å½’ï¼Œ æˆ‘ä»¬è¦éå†æ•´é¢—æ ‘ï¼Œ å…ˆç”¨legtå’Œrightæ¥ä½ç»“æœï¼Œåœ¨æ¥ç€ç”¨left, rightå¤„ç†ä¸‹é¢çš„é€»è¾‘     
```C
    /*å·¦*/
    struct TreeNode* left = lowestCommonAncestor(root->left, p, q);
    /*å³*/
    struct TreeNode* right = lowestCommonAncestor(root->right, p, q);
    /*ä¸­*/
    if (!left && right)
        return right;
    if (left && !right)
        return left;
    if (!left && !right)
        return NULL;
    return root;
```

å®Œæ•´ä»£ç ï¼š
### ***C:***
```C
/**
 * Definition for a binary tree node.
 * struct TreeNode {
 *     int val;
 *     struct TreeNode *left;
 *     struct TreeNode *right;
 * };
 */
struct TreeNode* lowestCommonAncestor(struct TreeNode* root, struct TreeNode* p, struct TreeNode* q) {
    //ç»ˆæ­¢æ¡ä»¶
    if (root == NULL || root == p || root == q)
        return root;//è¿”å›ä¸Šä¸€å±‚
    /*å·¦*/
    struct TreeNode* left = lowestCommonAncestor(root->left, p, q);
    /*å³*/
    struct TreeNode* right = lowestCommonAncestor(root->right, p, q);
    /*ä¸­*/
    if (!left && right)
        return right;
    if (left && !right)
        return left;
    if (!left && !right)
        return NULL;
    return root;
}
```
# ğŸ“ä¸€å®šè¦ç”»å‡ºè¿‡ç¨‹ï¼Œç†è§£é€’å½’ï¼Œç†è§£å›æº¯
