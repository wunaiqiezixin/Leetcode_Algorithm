# 257. äºŒå‰æ ‘çš„æ‰€æœ‰è·¯å¾„
[åŠ›æ‰£é¢˜ç›®é“¾æ¥](https://leetcode.cn/problems/binary-tree-paths/description/)

---
## ğŸ€é€’å½’
è¦æ±‚äºŒå‰æ ‘çš„è·¯å¾„ï¼Œåº”è¯¥å¯¹äºŒå‰æ ‘å‰åºéå†  

- å‡½æ•°çš„å‚æ•°
```C
void getPaths(struct TreeNode* node, int* path, int* pathSize,char** result, int* returnSize);
//æ•°ç»„pathç”¨äºå­˜æ”¾éå†è¿‡èŠ‚ç‚¹çš„å€¼(è·¯å¾„)ï¼›pathSizeæ•°ç»„pathçš„é•¿åº¦çš„åœ°å€(æ–¹ä¾¿å›æº¯)ï¼›
//resultä¸ºä¸€ä¸ªæ•°ç»„ï¼Œå­˜æ”¾å­—ç¬¦ä¸²(è·¯å¾„)ï¼›returnSizeä¸ºå­—ç¬¦ä¸²çš„ä¸ªæ•°(resultçš„é•¿åº¦)
```
- ç»ˆæ­¢æ¡ä»¶
éå†åˆ°å¶èŠ‚ç‚¹æ—¶ï¼Œå°†pathæ•°ç»„çš„å…ƒç´ è½¬ä¸ºå­—ç¬¦ä¸²ï¼Œè®°å½•ç»“æœ
```C
    if (node->left == NULL && node->right == NULL)
    {
        //å°†è·¯å¾„è½¬åŒ–æˆå­—ç¬¦ä¸²
        int len = 0;
        char* tmp = (char*)malloc(sizeof(char) * 100);
        for (int i = 0; i < *pathSize - 1; i++)
        {
            len += sprintf(tmp + len, "%d->", path[i]);
        }
        sprintf(tmp + len, "%d", path[*pathSize - 1]);
        result[(*returnSize)++] = tmp;
        return;
    }
```
- éå†
```C
    /*ä¸­*/
    path[(*pathSize)++] = node->val;
    //å†™åœ¨ç»ˆæ­¢æ¡ä»¶å‰ï¼Œé¿å…æ¼æ‰å¶èŠ‚ç‚¹
```
```C
    /*å·¦*/
    if (node->left)
    {
        getPaths(node->left, path, pathSize, result, returnSize);
        (*pathSize)--;//å›æº¯
    }
    /*å³*/
    if (node->right)
    {
        getPaths(node->right, path, pathSize, result, returnSize);
        (*pathSize)--;//å›æº¯
    }
```
å®Œæ•´ä»£ç 
### ***C:***
```C
/**
 * Definition for a binary tree node.
 * struct TreeNode {
 *     int val;
 *     struct TreeNode *left;
 *     struct TreeNode *right;
 * };
 */
/**
 * Note: The returned array must be malloced, assume caller calls free().
 */
//å‰åºéå†ï¼šä¸­-å·¦-å³
void getPaths(struct TreeNode* node, int* path, int* pathSize,char** result, int* returnSize)
{   
    /*ä¸­*/
    path[(*pathSize)++] = node->val;
    //ç»ˆæ­¢æ¡ä»¶
    if (node->left == NULL && node->right == NULL)
    {
        //å°†è·¯å¾„è½¬åŒ–æˆå­—ç¬¦ä¸²
        int len = 0;
        char* tmp = (char*)malloc(sizeof(char) * 100);
        for (int i = 0; i < *pathSize - 1; i++)
        {
            len += sprintf(tmp + len, "%d->", path[i]);
        }
        sprintf(tmp + len, "%d", path[*pathSize - 1]);
        result[(*returnSize)++] = tmp;
        return;
    }
    /*å·¦*/
    if (node->left)
    {
        getPaths(node->left, path, pathSize, result, returnSize);
        (*pathSize)--;//å›æº¯
    }
    /*å³*/
    if (node->right)
    {
        getPaths(node->right, path, pathSize, result, returnSize);
        (*pathSize)--;//å›æº¯
    }
    return;
}

char** binaryTreePaths(struct TreeNode* root, int* returnSize) {
    char** result = (char**)malloc(sizeof(char*) * 1000);
    if (root == NULL) return result;//é»˜è®¤ä¼ å…¥getPaths()å‡½æ•°çš„èŠ‚ç‚¹ä¸ä¸ºç©º
    int* path = (int*)malloc(sizeof(int) * 1000);
    *returnSize = 0;
    int pathSize = 0;
    getPaths(root, path, &pathSize, result, returnSize);
    return result;
}
```
