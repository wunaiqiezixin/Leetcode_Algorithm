# 450. åˆ é™¤äºŒå‰æœç´¢æ ‘ä¸­çš„èŠ‚ç‚¹
[åŠ›æ‰£é¢˜ç›®é“¾æŽ¥](https://leetcode.cn/problems/delete-node-in-a-bst/description/)   

---
## ðŸ§ æ€è·¯
è¦åˆ é™¤çš„èŠ‚ç‚¹çš„å€¼ä¸º```key```   
ç”¨æŒ‡é’ˆ```cur```éåŽ†äºŒå‰æœç´¢æ ‘æŸ¥æ‰¾å€¼ä¸º```key```çš„èŠ‚ç‚¹    
ç”¨æŒ‡é’ˆ```pre```è®°å½•éåŽ†åˆ°çš„å…ƒç´ çš„å‰ä¸€ä¸ªèŠ‚ç‚¹(è¿­ä»£æ³•)
- æƒ…å†µä¸€ï¼š    
 >æ‰¾ä¸åˆ°å€¼ä¸º```key```çš„èŠ‚ç‚¹ï¼Œå³```cur === NULL```, ç›´æŽ¥è¿”å›žæ ¹èŠ‚ç‚¹```root```
- æƒ…å†µäºŒï¼š    
>```cur```å­˜åœ¨ä¸”```cur```æœ‰ä¸€ä¸ªæˆ–æ²¡æœ‰å­©å­, ```cur```çš„åº¦ä¸º0æˆ–1ï¼Œç›´æŽ¥è®©```pre```æŒ‡å‘```cur```çš„æŒ‡é’ˆæŒ‡å‘```cur```çš„å­©å­æˆ–NULL      
>æ³¨æ„äº†ï¼šè¿™é‡Œè¦åˆ é™¤çš„å¯èƒ½å°±æ˜¯```root```,å³```cur == root```,é‚£ä¹ˆ```pre == NULL```,æ‰€ä»¥```pre```ä¸ºç©ºæŒ‡é’ˆï¼Œè¦åˆ†ç±»è®¨è®º    
- æƒ…å†µä¸‰ï¼š    
>```cur```å­˜åœ¨ä¸”```cur```æœ‰ä¸¤ä¸ªå„¿å­ï¼Œ ```cur```çš„åº¦ä¸º2    
>è¿™ç§æƒ…å†µæœ‰ä¸¤ç§å¸¸è§çš„è§£æ³•ï¼š    
>1. å°†```cur```çš„å€¼æ›¿æ¢ä¸º```cur```çš„å³å­æ ‘ä¸­çš„æœ€å°å€¼ï¼Œå³å³å­æ ‘ä¸­æœ€å·¦è¾¹çš„ç‚¹ï¼Œä¹Ÿå³```cur```ä¸­åºéåŽ†çš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹```nex```ï¼ŒèŽ·å–åˆ°å®ƒçš„å€¼åŽåˆ é™¤è¿™ä¸ªèŠ‚ç‚¹```nex```(é€’å½’è°ƒç”¨å‡½æ•°)     
>2. å°†```nex```çš„å·¦æŒ‡é’ˆæŒ‡å‘```cur```çš„å³å­©å­ï¼Œè®©```pre```(è¦åˆ†ç±»è®¨è®ºæ˜¯å¦ä¸ºNULL)æŒ‡å‘```cur```çš„æŒ‡é’ˆæŒ‡å‘```cur```çš„å³å­©å­    

## ðŸš€è¿­ä»£æ³•
#### æ•°å€¼æ›¿æ¢æ³•
### ***C:***
å®Œæ•´ä»£ç ï¼š
```C
/**
 * Definition for a binary tree node.
 * struct TreeNode {
 *     int val;
 *     struct TreeNode *left;
 *     struct TreeNode *right;
 * };
 */
struct TreeNode* deleteNode(struct TreeNode* root, int key) {
    if (root == NULL) return root;//å¦‚æžœä¸ºç©ºæ ‘ï¼Œè¿”å›žNULL

    struct TreeNode* cur = root;//éåŽ†äºŒå‰æœç´¢æ ‘
    struct TreeNode* pre = NULL;//æŒ‡å‘curéåŽ†åˆ°çš„å‰ä¸€ä¸ªèŠ‚ç‚¹ 

    /* æ³¨æ„å½“è¦åˆ é™¤çš„æ˜¯æ ¹èŠ‚ç‚¹rootæ—¶ï¼Œpre == NULL */

    //æŸ¥æ‰¾å€¼ä¸ºkeyçš„èŠ‚ç‚¹
    while (cur)
    {
        if (cur->val == key)
            break;
        pre = cur;//ä¸è¦å¿˜äº†preæŒ‡å‘curçš„å‰ä¸€ä¸ª
        if (cur->val > key)
            cur = cur->left;
        else
            cur = cur->right;
    }
    //æƒ…å†µä¸€ï¼šæ‰¾ä¸åˆ°
    if (!cur) return root;
    //æƒ…å†µäºŒï¼šåº¦ä¸º0æˆ–1ï¼Œæ³¨æ„è®¨è®ºpreæ˜¯å¦ä¸ºç©º
    if (!cur->left || !cur->right)
    {
        struct TreeNode* tmp = cur->left ? cur->left : cur->right;
        if (!pre)//å¦‚æžœpreä¸ºç©º
            return tmp;
        else//preä¸ä¸ºç©º
        {
            if (pre->left == cur)
                pre->left = tmp;
            else    
                pre->right = tmp;
        }
    }
    //æƒ…å†µä¸‰ï¼šcuræœ‰ä¸¤ä¸ªå­©å­
    else
    {
        //æ‰¾åˆ°curä¸­åºéåŽ†çš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹nex
        struct TreeNode* nex = cur->right;
        while (nex->left)
            nex = nex->left;
        //è®°å½•nexçš„å€¼
        int val = nex->val;
        //é€’å½’è°ƒç”¨åˆ é™¤nex
        deleteNode(root,val);
        //æ›¿æ¢curçš„å€¼
        cur->val = val;
    }
    return root;
}
```
#### å·¦å­æ ‘ç§»åŠ¨æ³•
### ***C:***
å®Œæ•´ä»£ç ï¼š
```C
/**
 * Definition for a binary tree node.
 * struct TreeNode {
 *     int val;
 *     struct TreeNode *left;
 *     struct TreeNode *right;
 * };
 */
struct TreeNode* deleteNode(struct TreeNode* root, int key) {
    if (root == NULL) return root;//å¦‚æžœä¸ºç©ºæ ‘ï¼Œè¿”å›žNULL

    struct TreeNode* cur = root;//éåŽ†äºŒå‰æœç´¢æ ‘
    struct TreeNode* pre = NULL;//æŒ‡å‘curéåŽ†åˆ°çš„å‰ä¸€ä¸ªèŠ‚ç‚¹ 

    /* æ³¨æ„å½“è¦åˆ é™¤çš„æ˜¯æ ¹èŠ‚ç‚¹rootæ—¶ï¼Œpre == NULL */

    //æŸ¥æ‰¾å€¼ä¸ºkeyçš„èŠ‚ç‚¹
    while (cur)
    {
        if (cur->val == key)
            break;
        pre = cur;//ä¸è¦å¿˜äº†preæŒ‡å‘curçš„å‰ä¸€ä¸ª
        if (cur->val > key)
            cur = cur->left;
        else
            cur = cur->right;
    }
    //æƒ…å†µä¸€ï¼šæ‰¾ä¸åˆ°
    if (!cur) return root;
    //æƒ…å†µäºŒï¼šåº¦ä¸º0æˆ–1ï¼Œæ³¨æ„è®¨è®ºpreæ˜¯å¦ä¸ºç©º
    if (!cur->left || !cur->right)
    {
        struct TreeNode* tmp = cur->left ? cur->left : cur->right;
        if (!pre)//å¦‚æžœpreä¸ºç©º
            return tmp;
        else//preä¸ä¸ºç©º
        {
            if (pre->left == cur)
                pre->left = tmp;
            else    
                pre->right = tmp;
        }
    }
    //æƒ…å†µä¸‰ï¼šcuræœ‰ä¸¤ä¸ªå­©å­
    else
    {
        //æ‰¾åˆ°curä¸­åºéåŽ†çš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹nex
        struct TreeNode* nex = cur->right;
        while (nex->left)
            nex = nex->left;
        //å°†nexçš„å·¦æŒ‡é’ˆæŒ‡å‘curçš„å·¦å­©å­
        nex->left = cur->left;
        //åˆ†ç±»è®¨è®ºpre
        if (!pre)//preä¸ºç©º
            return cur->right;
        else //preä¸ä¸ºç©º
        {
            if (pre->left == cur)
                pre->left = cur->right;
            else
                pre->right = cur->right;
        }
    }
    return root;
}
```


## ðŸ€é€’å½’æ³•
ä½“ä¼šè‡ªåº•å‘ä¸Šè¿”å›žçš„é€’å½’
### ***C:***
å®Œæ•´ä»£ç ï¼š
```C
/**
 * Definition for a binary tree node.
 * struct TreeNode {
 *     int val;
 *     struct TreeNode *left;
 *     struct TreeNode *right;
 * };
 */
struct TreeNode* deleteNode(struct TreeNode* root, int key) {
    //ç»ˆæ­¢æ¡ä»¶
    if (root == NULL) return root;//æ‰¾ä¸åˆ°å€¼ä¸ºkeyçš„èŠ‚ç‚¹
    if (root->val == key)
    {
        //æƒ…å†µä¸€ï¼šrootçš„åº¦ä¸º1æˆ–0
        if (!root->left || !root->right)
            return root->left ? root->left : root->right;//å°†å­©å­æˆ–NULLè¿”å›žç»™ä¸Šä¸€å±‚
        //æƒ…å†µäºŒï¼šrootçš„åº¦ä¸º2
        else
        {
            //æ‰¾nex
            struct TreeNode* nex = root->right;
            while (nex->left)
                nex = nex->left;
            //rootçš„å·¦å­æ ‘å«æŽ¥åˆ°nexçš„å·¦è¾¹
            nex->left = root->left;
            //å°†rootçš„å³å­æ ‘è¿”å›žç»™ä¸Šä¸€å±‚
            return root->right;
        }
    }

    //é€’å½’éåŽ†ï¼ŒæŽ¥ä½ä¸‹é¢è¿”å›žä¸Šæ¥çš„å­æ ‘
    if (root->val > key)
    {
        root->left = deleteNode(root->left, key);
    }
    else
    {
        root->right = deleteNode(root->right, key);
    }
    //è¿”å›ž
    return root;
}
```
