# 538. æŠŠäºŒå‰æœç´¢æ ‘è½¬æ¢ä¸ºç´¯åŠ æ ‘
[åŠ›æ‰£é¢˜ç›®é“¾æŽ¥](https://leetcode.cn/problems/convert-bst-to-greater-tree/description/)

---
è¿™é“é¢˜ç›®å’Œç»™ä½ ä¸€ä¸ªé€’å¢žçš„æœ‰åºæ•°ç»„ï¼Œç„¶ä½ è¿›è¡Œç´¯åŠ æ— åŒºåˆ«    
åªéœ€ä»ŽåŽå¾€å‰éåŽ†ä¸€éæ•°ç»„å³å¯   
åŒç†ï¼Œæœ¬é¢˜é€‚åˆé€†ä¸­åºéåŽ†ï¼Œç»´æŠ¤ä¸€ä¸ª```preSum```å˜é‡ï¼Œè¡¨ç¤ºå‰é¢çš„èŠ‚ç‚¹å€¼çš„æ€»å’Œ   
## ðŸ€é€’å½’æ³•
### ***C:***
```C
/**
 * Definition for a binary tree node.
 * struct TreeNode {
 *     int val;
 *     struct TreeNode *left;
 *     struct TreeNode *right;
 * };
 */
void toSum(struct TreeNode* node, int* preSum)
{
    //ç»ˆæ­¢æ¡ä»¶
    if (node == NULL) return;
    //å³
    toSum(node->right, preSum);
    //ä¸­
    node->val += *preSum;
    *preSum = node->val;
    //å·¦
    toSum(node->left, preSum);
    return;
}
struct TreeNode* convertBST(struct TreeNode* root) {
    int preSum = 0;
    toSum(root, &preSum);
    return root;
}
```
## ðŸš€è¿­ä»£æ³•
### ***C:***
```C
/**
 * Definition for a binary tree node.
 * struct TreeNode {
 *     int val;
 *     struct TreeNode *left;
 *     struct TreeNode *right;
 * };
 */
struct TreeNode* convertBST(struct TreeNode* root) {
    if (root == NULL) return root;
    //æ ˆ
    struct TreeNode** stack = (struct TreeNode**)malloc(sizeof(struct TreeNode*) * 10001);
    int stackTop = 0;

    struct TreeNode* cur = root;//éåŽ†æ ‘
    int preSum = 0;
    
    //è¿­ä»£
    while (cur || stackTop)
    {
        if (cur)
        {
            stack[stackTop++] = cur;
            cur = cur->right;
        }

        else
        {
            cur = stack[--stackTop];
            cur->val += preSum;
            preSum = cur->val;
            cur = cur->left;
        }
    }
    return root;
}
```
