# 637. 二叉树的层平均值
[力扣题目链接](https://leetcode.cn/problems/average-of-levels-in-binary-tree/submissions/697642288/)
---
详细思路见 [0102.二叉树的层序遍历](https://github.com/wunaiqiezixin/Leetcode_Algorithm/blob/main/problems/0102.%20%E4%BA%8C%E5%8F%89%E6%A0%91%E7%9A%84%E5%B1%82%E5%BA%8F%E9%81%8D%E5%8E%86.md)  
### 完整代码
### ***C:***
```C
/**
 * Definition for a binary tree node.
 * struct TreeNode {
 *     int val;
 *     struct TreeNode *left;
 *     struct TreeNode *right;
 * };
 */
/**
 * Note: The returned array must be malloced, assume caller calls free().
 */
double* averageOfLevels(struct TreeNode* root, int* returnSize) {
    //分配空间
    double* ret = (double*)malloc(sizeof(double) * 10000);
    *returnSize = 0;
    //队列
    struct TreeNode** que = (struct TreeNode**)malloc(sizeof(struct TreeNode*) * 10000);
    int front = 0, rear = 0;
    int size = 0;//每一层节点的数量
    double sum;//每一层节点的值的和
    //根节点入队
    if (root == NULL) return ret;
    que[rear++] = root;
    
    while (front < rear)
    {
        //计算每一层节点的数量
        size = rear - front;
        sum = 0;
        //对每一层的节点的值求和
        for (int i = 0; i < size; i++)
        {
            struct TreeNode* cur = que[front++];
            sum += cur->val;
            //下一层节点入队
            if (cur->left)
                que[rear++] = cur->left;
            if (cur->right)
                que[rear++] = cur->right;
        }
        //将平均值加入到数组中
        ret[(*returnSize)++] = sum / size;
    }
    return ret;
}
```
