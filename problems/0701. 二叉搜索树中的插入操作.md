# 701. äºŒå‰æœç´¢æ ‘ä¸­çš„æ’å…¥æ“ä½œ
[åŠ›æ‰£é¢˜ç›®é“¾æ¥](https://leetcode.cn/problems/insert-into-a-binary-search-tree/description/)

---
## ğŸ§ æ€è·¯
æˆ‘ä»¬ç®€å•ä¸€ç‚¹çœ‹é—®é¢˜ï¼Œå°±æ˜¯ä¸å»æ”¹å˜äºŒå‰æœç´¢æ ‘çš„ç»“æ„ä»€ä¹ˆçš„    
æ ¹æ®valçš„å€¼ï¼Œæ‰¾åˆ°ä¸€ä¸ªå¶èŠ‚ç‚¹ï¼Œå†æŠŠå€¼æ’å…¥å¶èŠ‚ç‚¹çš„å·¦è¾¹æˆ–å³è¾¹å³å¯    
ç”¨ä¸€ä¸ªpreæŒ‡é’ˆè®°å½•éå†åˆ°çš„èŠ‚ç‚¹çš„å‰ä¸€ä¸ªèŠ‚ç‚¹    

### ğŸš€è¿­ä»£æ³•
ç”¨ä¸€ä¸ªpreæŒ‡é’ˆè®°å½•è®¿é—®åˆ°çš„èŠ‚ç‚¹çš„å‰ä¸€ä¸ªèŠ‚ç‚¹ï¼Œ ç”¨curæŒ‡é’ˆè®¿é—®èŠ‚ç‚¹    
å¦‚æœcurçš„å€¼å°äºvalï¼Œcurå‘å³è¾¹è®¿é—®    
å¦‚æœcurçš„å€¼å¤§äºvalï¼Œcurå‘å·¦è¾¹è®¿é—®    
ç›´åˆ°curä¸ºç©ºï¼Œ å°±åœ¨å¶èŠ‚ç‚¹preå·¦è¾¹(pre->val > val)æˆ–å³è¾¹(pre->val < val)æ’å…¥èŠ‚ç‚¹    

### ***C:***
å®Œæ•´ä»£ç ï¼š
```C
/**
 * Definition for a binary tree node.
 * struct TreeNode {
 *     int val;
 *     struct TreeNode *left;
 *     struct TreeNode *right;
 * };
 */
struct TreeNode* insertIntoBST(struct TreeNode* root, int val) {
    if (root == NULL)//ä¸ºç©ºæ ‘
    {
        struct TreeNode* node = (struct TreeNode*)malloc(sizeof(struct TreeNode));
        node->val = val;
        node->left = NULL;
        node->right = NULL;
        return node;
    }
    //ä¸æ˜¯ç©ºæ ‘
    struct TreeNode* pre = NULL;//è®°å½•éå†åˆ°çš„å‰ä¸€ä¸ªèŠ‚ç‚¹
    struct TreeNode* cur = root;
    while (cur)//å¯»æ‰¾æ’å…¥ä½ç½®
    {
        pre = cur;
        if (cur->val < val)
            cur = cur->right;
        else
            cur = cur->left;
    }
    //æ’å…¥èŠ‚ç‚¹
    struct TreeNode* node = (struct TreeNode*)malloc(sizeof(struct TreeNode));
    node->val = val;
    node->left = NULL;
    node->right = NULL;
    if (pre->val < val)
        pre->right = node;
    else
        pre->left = node;
    return root;
}
```
### ğŸ€é€’å½’
###### æœ‰è¿”å›å€¼çš„é€’å½’   
æ ¹æ®valçš„å€¼é€’å½’çš„éå†äºŒå‰æœç´¢æ ‘ï¼Œé‡åˆ°NULLæ—¶ï¼Œç›´æ¥æ–°å»ºè¦æ’å…¥çš„èŠ‚ç‚¹å¹¶è¿”å›ç»™ä¸Šä¸€å±‚é€’å½’ï¼Œç”±ä¸Šä¸€å±‚é€’å½’æ¥ä½è¿™ä¸ªèŠ‚ç‚¹     

1. å‡½æ•°çš„è¿”å›å€¼å’Œå‚æ•°      
è¿”å›å€¼ä¸ºæ’å…¥èŠ‚ç‚¹åçš„æ ¹èŠ‚ç‚¹ï¼Œä¼ å…¥è¦æ’å…¥çš„èŠ‚ç‚¹çš„å€¼å’Œæ ¹èŠ‚ç‚¹
```C
struct TreeNode* insertIntoBST(struct TreeNode* root, int val);
```
2. ç»ˆæ­¢æ¡ä»¶     
å½“èŠ‚ç‚¹ä¸ºç©ºæ—¶ï¼Œå°†è¦æ’å…¥çš„èŠ‚ç‚¹è¿”å›ç»™ä¸Šä¸€å±‚é€’å½’
```C
    //ç»ˆæ­¢æ¡ä»¶
    if (root == NULL)
    {
        struct TreeNode* node = (struct TreeNode*)malloc(sizeof(struct TreeNode));
        node->val = val;
        node->left = NULL;
        node->right = NULL;
        return node;//è¿”å›ç»™ä¸Šä¸€å±‚
    }
```
3. é€’å½’é€»è¾‘     
æ ¹æ®valçš„å€¼éå†äºŒå‰æœç´¢æ ‘ï¼Œå¹¶æ¥ä½ä¸‹ä¸€å±‚ä¼ ä¸Šæ¥çš„èŠ‚ç‚¹
```C
    if (root->val < val)
    {
        root->right = insertIntoBST(root->right, val);
    }
    else 
    {
        root->left = insertIntoBST(root->left, val);
    }
    return root;
```
### ***C:***
å®Œæ•´ä»£ç ï¼š
```C
/**
 * Definition for a binary tree node.
 * struct TreeNode {
 *     int val;
 *     struct TreeNode *left;
 *     struct TreeNode *right;
 * };
 */
struct TreeNode* insertIntoBST(struct TreeNode* root, int val) {
    //ç»ˆæ­¢æ¡ä»¶
    if (root == NULL)
    {
        struct TreeNode* node = (struct TreeNode*)malloc(sizeof(struct TreeNode));
        node->val = val;
        node->left = NULL;
        node->right = NULL;
        return node;
    }

    //é€’å½’

    if (root->val < val)
    {
        root->right = insertIntoBST(root->right, val);
    }
    else 
    {
        root->left = insertIntoBST(root->left, val);
    }
    return root;
}
```
###### æ— è¿”å›å€¼çš„é€’å½’
éœ€è¦ä¸€ä¸ªå…¨å±€å˜é‡preè®°å½•éå†åˆ°çš„å‰ä¸€ä¸ªç‚¹(è¦æ’å…¥èŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹)    
ä½†æ˜¯åœ¨åŠ›æ‰£ä¸Šåšé¢˜å°½é‡ä¸è¦ç”¨å…¨å±€å˜é‡ï¼Œæˆ‘ä»¬ç”¨æŒ‡é’ˆæ¥ä»£æ›¿    

1. å‡½æ•°çš„å‚æ•°     
æŒ‡é’ˆpreçš„åœ°å€ï¼špreå®šä¹‰åœ¨åŠ›æ‰£ç»™çš„ä¸»å‡½æ•°ä¸­ï¼Œåˆå§‹ä¸ºNULL   
æ ‘çš„æ ¹èŠ‚ç‚¹    
è¦æ’å…¥çš„èŠ‚ç‚¹çš„å€¼val
```C
void traversal(struct TreeNode* node, int val, struct TreeNode** pre);
```
2. ç»ˆæ­¢æ¡ä»¶     
ä½†curæŒ‡é’ˆ(ç”¨äºéå†äºŒå‰æ ‘)ä¸ºç©ºæ—¶ï¼Œæ–°å»ºè¦æ’å…¥çš„èŠ‚ç‚¹ï¼Œè®©preçš„å·¦æŒ‡é’ˆæˆ–å³æŒ‡é’ˆæŒ‡å‘è¯¥èŠ‚ç‚¹   
```C
    //ç»ˆæ­¢æ¡ä»¶
    if (node == NULL) //æ‰¾åˆ°å¶èŠ‚ç‚¹
    {
        struct TreeNode* treeNode = (struct TreeNode*)malloc(sizeof(struct TreeNode));
        treeNode->val = val;
        treeNode->left = NULL;
        treeNode->right = NULL;
        if ((*pre)->val > val)
            (*pre)->left = treeNode;
        else
            (*pre)->right = treeNode;
        return;//ç»ˆæ­¢
    }
```
3. é€’å½’    
æ ¹æ®valçš„å€¼éå†ï¼Œæ³¨æ„ç”¨preæŒ‡é’ˆè®°å½•å‰ä¸€ä¸ªç»“ç‚¹
```C
    //é€’å½’
    *pre = node;//è®°å½•å‰ä¸€ä¸ªèŠ‚ç‚¹
    if (val < node->val)
    {
        traversal(node->left, val, pre);
    }
    else
    {
        traversal(node->right, val, pre);
    }
```
### ***C:***
å®Œæ•´ä»£ç ï¼š
```C
/**
 * Definition for a binary tree node.
 * struct TreeNode {
 *     int val;
 *     struct TreeNode *left;
 *     struct TreeNode *right;
 * };
 */
void traversal(struct TreeNode* node, int val, struct TreeNode** pre)
{
    //ç»ˆæ­¢æ¡ä»¶
    if (node == NULL) //æ‰¾åˆ°å¶èŠ‚ç‚¹
    {
        struct TreeNode* treeNode = (struct TreeNode*)malloc(sizeof(struct TreeNode));
        treeNode->val = val;
        treeNode->left = NULL;
        treeNode->right = NULL;
        if ((*pre)->val > val)
            (*pre)->left = treeNode;
        else
            (*pre)->right = treeNode;
        return;
    }

    //é€’å½’
    *pre = node;
    if (val < node->val)
    {
        traversal(node->left, val, pre);
    }
    else
    {
        traversal(node->right, val, pre);
    }
    return;
}
struct TreeNode* insertIntoBST(struct TreeNode* root, int val) {
    if (root == NULL)//ä¸ºç©ºæ ‘
    {
        struct TreeNode* node = (struct TreeNode*)malloc(sizeof(struct TreeNode));
        node->val = val;
        node->left = NULL;
        node->right = NULL;
        return node;
    }
    struct TreeNode* pre = NULL;
    traversal(root, val, &pre);
    return root;
}
```
